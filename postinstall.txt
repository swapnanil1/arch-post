#Connect to internet/wifi
nmcli or iwctl 
Activate a connection ->
#Auto clean package cache
sudo pacman -S pacman-contrib
sudo mkdir /etc/pacman.d/hooks
sudo nano /etc/pacman.d/hooks/clean_package_cache.hook
[Trigger]
Operation = Upgrade
Operation = Install
Operation = Remove
Type = Package
Target = *
[Action]
Description = Cleaning pacman cache...
When = PostTransaction
Exec = /usr/bin/paccache -rk 2

#Setup ZSH Shell
sudo pacman -S zsh 
chsh -s /usr/bin/zsh
sh -c "$(wget -O- https://install.ohmyz.sh/)"

#Setup Mirrors 
sudo pacman -S reflector
sudo reflector --verbose --country 'India' -l 15 --sort rate --protocol https --save /etc/pacman.d/mirrorlist

# setup terminal & neovim 
sudo pacman -S alacritty starship neovim fd ripgrep xclip python-pynvim nodejs npm 
git clone https://github.com/NvChad/NvChad ~/.config/nvim --depth 1 && nvim
#git clone git@github.com:swapnanil1/nvchad-py.git

#Apps for kde 
sudo pacman -S --needed timeshift bash-completion packagekit-qt5 okular gwenview ksnip kvantum keepassxc vlc qbittorrent syncthing code bleachbit thunderbird kdeconnect sshfs netcat

#troubleshoot for KDEconnect
sudo netstat -tunelp | grep -i kdeconnect                 #check if kdeconnect is running
netcat -z -v <phone's ip in settings> 1714-1764           #check if ip is blocked by firewall paste ip without <>
killall kdeconnectd                                       #Kill Kdeconnect
mv ~/.config/kdeconnect ~/.config/kdeconnect.bak          #delete current config as save backup
sudo ufw allow 1714:1764/udp                              #allow kdeconnect ports udp
sudo ufw allow 1714:1764/tcp                              #allow kdeconnect ports tcp
sudo ufw reload                                           #apply rules and open kdeconnect 

#Apps for cinnamon desktop
sudo pacman -S --needed timeshift bash-completion xed xreader geeqie galculator flameshot gparted ntfs-3g mpv
qbittorrent bleachbit thunderbird 

#Apps for gnome 
sudo pacman -S --needed timeshift ttf-roboto ttf-jetbrains-mono-nerd bash-completion keepassxc vlc qbittorrent bleachbit gparted ntfs-3g mpv

#Setup themes
sudo pacman -S --needed arc-gtk-theme arc-icon-theme papirus-icon-theme

#Essential Packages
sudo pacman -S git linux-headers dkms ufw eza  --needed
sudo pacman -S jshon expac exa git wget acpid avahi net-tools xdg-user-dirs cronie --needed
systemctl enable acpid avahi-daemon systemd-timesyncd --needed
systemctl enable fstrim.timer
systemctl enable cronie.service

#Input Driver (Optional)
sudo pacman -S xf86-input-synaptics xf86-input-libinput xf86-input-evdev --needed

#Sound Drivers
sudo pacman -S alsa-utils pipewire pipewire-pulse pipewire-jack wireplumber --needed
#Optional Sound management
sudo pacman -S pavucontrol-qt 

#Some archive and file system utils
sudo pacman -S p7zip unrar unarchiver unzip unace xz rsync --needed
sudo pacman -S nfs-utils cifs-utils ntfs-3g exfat-utils gvfs udisks2 --needed

#Media Codecs
sudo pacman -S gst-libav gst-plugins-base gst-plugins-good gst-plugins-bad gst-plugins-ugly gstreamer-vaapi x265 x264 lame --needed

#Fonts
sudo pacman -S --needed adobe-source-sans-pro-fonts ttf-dejavu ttf-opensans noto-fonts freetype2 terminus-font \
ttf-bitstream-vera ttf-dejavu ttf-droid ttf-fira-mono ttf-fira-sans ttf-freefont ttf-inconsolata ttf-liberation libertinus-font inter-font ttf-jetbrains-mono-nerd ttf-roboto
 
#ADB
sudo pacman -S android-tools android-udev
usermod -aG adbusers yourusername

## Config .bashrc
#Fixing ls to use eza (Add to .bashrc)
alias ls='eza -al --color=always --group-directories-first'
alias pi='sudo pacman -S'
alias pr='sudo pacman -R'
alias prr='sudo pacman -Rns'
eval "$(starship init bash)"

#Install Yay
mkdir repos
cd repos
git clone https://aur.archlinux.org/yay-bin.git
cd yay-bin
makepkg -si

#Usefull AUR Apps 
yay -S onlyoffice-bin portmaster-stub-bin visual-studio-code-bin librewolf-bin brave-bin google-chrome heroic-games-launcher-bin 

#Davinci Resolve (AMD)
sudo pacman -S --needed libxcrypt-compat rocm-core libarchive xdg-user-dirs patchelf rocm-opencl-runtime
vim /etc/environment
add the line
ROC_ENABLE_PRE_VEGA=1

##Display Drivers 
#(AMD)
sudo pacman -S --needed lib32-mesa vulkan-radeon lib32-vulkan-radeon vulkan-icd-loader lib32-vulkan-icd-loader \
libva-mesa-driver lib32-libva-mesa-driver mesa-vdpau lib32-mesa-vdpau libva-vdpau-driver lib32-libva-vdpau-driver
#(Intel)
sudo pacman -S --needed lib32-mesa vulkan-intel lib32-vulkan-intel vulkan-icd-loader lib32-vulkan-icd-loader
#(NVIDEA)
sudo pacman -S --needed nvidia-dkms nvidia-utils lib32-nvidia-utils nvidia-settings vulkan-icd-loader lib32-vulkan-icd-loader

#Wine Lutris Steam Gamemode 
sudo pacman -S --needed steam lutris gamemode lib32-gamemode mangohud lib32-mangohud wine-staging wine-mono wine-gecko winetricks cabextract unzip \
giflib lib32-libnm lib32-giflib libpng lib32-libpng libldap lib32-libldap gnutls lib32-gnutls \
mpg123 lib32-mpg123 openal lib32-openal v4l-utils lib32-v4l-utils libpulse lib32-libpulse libgpg-error \
lib32-libgpg-error alsa-plugins lib32-alsa-plugins alsa-lib lib32-alsa-lib libjpeg-turbo lib32-libjpeg-turbo \
sqlite lib32-sqlite libxcomposite lib32-libxcomposite libxinerama lib32-libgcrypt libgcrypt lib32-libxinerama \
ncurses lib32-ncurses ocl-icd lib32-ocl-icd libxslt lib32-libxslt libva lib32-libva gtk3 \
lib32-gtk3 gst-plugins-base-libs lib32-gst-plugins-base-libs vulkan-icd-loader lib32-vulkan-icd-loader \
cups-filters libexif libmikmod libpaper liburing qpdf sdl12-compat sdl_net sdl_sound cups dosbox samba \
lib32-libxss lib32-nspr lib32-nss lsb-release lsof usbutils xorg-xrandr zenity python-evdev vkd3d lib32-vkd3d faudio lib32-faudio \
lib32-libxxf86vm lib32-libxml2 lib32-openssl nss-mdns lib32-gstreamer gstreamer gsm lib32-fontconfig \
lib32-glu lib32-libsm lib32-libice gst-plugins-good lib32-gst-plugins-base lib32-gst-plugins-good sane 

#Lutris dependencies
sudo pacman -S --needed python-gobject python-requests python-pillow python-yaml python-setproctitle python-distro python-evdev psmisc p7zip curl cabextract soundfont-fluid libgirepository gobject-introspection

#Common game dependencies (Takes TIME TO COMPILE)
FONTS-> yay -S ttf-ms-win11-auto lib32-gsm
